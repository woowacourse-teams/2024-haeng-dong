#spring:
#  datasource:
#    driver-class-name: org.h2.Driver
#    url: jdbc:h2:mem:database
#    username: sa
#    password:

spring:
  datasource:
    replication:
      driver-class-name: com.mysql.cj.jdbc.Driver
      username: root
      password: root_password
      write:
        name: write
        url: jdbc:mysql://localhost:3306/haengdong  # 마스터 컨테이너의 포트
      reads:
        - name: read1
          url: jdbc:mysql://localhost:3307/haengdong  # 슬레이브 컨테이너의 포트

  #        - name: read2
  #          url: database-project.cluster-ro-cqsc6pyqhwww.ap-northeast-2.rds.amazonaws.com:3306/heangdong

  #  h2:
  #    console:
  #      enabled: true
  #      path: /h2-console

  jpa:
    hibernate:
      ddl-auto: create
    #      dialect: org.hibernate.dialect.MySQLDialect  # MySQLDialect 사용
    properties:
      hibernate:
        format_sql: true
        jdbc.time_zone: Asia/Seoul
        dialect: org.hibernate.dialect.MySQLDialect
    show-sql: true

cors:
  max-age: 3600
  allowed-origins: http://localhost:3000, https://haengdong.pro, https://dev.haengdong.pro, https://app.haengdong.pro

security:
  jwt:
    token:
      secret-key: skdmeejEKJdkDjklDlkj123DKLJ3kDkeDkDKQMEOD1D90D8dE
      expire-length: 604800000 # 1주일

cookie:
  http-only: false
  secure: false
  path: /
  same-site: none
  max-age: 7D

management:
  endpoints:
    web:
      exposure:
        include: health, metrics, logfile

server:
  servlet:
    encoding:
      charset: UTF-8
      enabled: true
      force: true

---

spring:
  config:
    import: classpath:config/application-prod.yml
    activate:
      on-profile: prod

---

spring:
  config:
    import: classpath:config/application-dev.yml
    activate:
      on-profile: dev
